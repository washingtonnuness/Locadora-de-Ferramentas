{% extends 'base.html'%}
{% load static %}

{% block content %}

  <div class="card">
    <div class="d-flex bd-highlight">
      <div class="card-body">


        <h4 class="card-title mb-3">Produtos</h4>
        <div class="d-flex justify-content-start">
          <div class="btn-group" role="group" aria-label="Basic outlined example">
            <div class="p-2 bd-highlight">
              <div class="dropdown d-inline ">
                <a class="dropdown-toggle text-reset mb-auto"  href={% url 'produto:produto_create' %} aria-haspopup="true"
                  aria-expanded="false">
                  <button type="button" class="btn btn-link shadow-none"><span
                    class="fw-semibold">Cadastrar</span></button>
                </div>
              </div>
              <div class="p-2 bd-highlight">
                <div class="dropdown d-inline">
                  <a class="dropdown-toggle text-muted me-3 mb-3 align-middle" href="#" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <button type="button" class="btn btn-link shadow-none">
                      <i class="icon-sm" data-feather="search"></i><span>Buscar</span>
                    </button></a>
                  <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0">
                    <form class="p-2">
                      <div class="search-box">
                        <div class="position-relative">
                          <input type="text" name="search" class="form-control rounded bg-light border-0"
                            hx-get="{% url 'produto:produto_items_search' %}"
                            hx-trigger="keyup changed delay:250ms, search"
                            hx-target="#search-results" placeholder="buscando...">
                          <i class="bx bx-search font-size-16 search-icon"></i>
                          <span id="search-results"></span>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-hover mb-0 align-middle">
              <thead class="bg-light">
                <tr>
                  <th class="rounded-start" style="width: 15px;">
                    <div class="form-check">
                      <input class="form-check-input font-size-16" type="checkbox" value="" id="flexCheckDefault">
                      <label class="form-check-label" for="flexCheckDefault"> </label>
                    </div>
                  </th>
                  <th>Código</th>
                  <th>Título</th>
                  <th>Categoria</th>
                  <th>Marca</th>
                  <th>Preço de Compra</th>
                  <th colspan="2" class="rounded-end">Valor Diária</th>
                  <th>Estoque Mínimo</th>
                  <th>Estoque Atual</th>
                  <th>Status</th>
                </tr>
                <!-- end tr -->
              </thead>
              <!-- end thead -->
              <tbody>
                {% for object in object_list %}
                  <tr>
                    <td>
                      <div class="form-check">
                        <input class="form-check-input font-size-16" type="checkbox" value="" id="flexCheckexampleone">
                        <label class="form-check-label" for="flexCheckexampleone">
                        </label>
                      </div>
                    </td>
                    <td class="fw-medium">
                      {{ object.codigo }}
                    </td>
                    <td>
                      <a href="{{ object.get_absolute_url }}">{{ object.titulo }}</a>
                    </td>
                    <td>
                      <div class="d-flex align-items-center">
                        <!-- Imagem do produto -->
                        <!--
                                          <div class="me-2">
                                              <img src="assets/images/users/avatar-2.jpg" class="avatar-sm img-thumbnail h-auto rounded-circle" alt="Error">
                                          </div>
                                          -->
                        <div>
                          <h5 class="font-size-14 text-truncate mb-0"><a href="#" class="text-reset">{{ object.categoria }}</a>
                          </h5>
                        </div>
                      </div>
                    </td>
                    <td>
                      {{ object.marca }}
                    </td>

                    <td>
                      {{ object.preco_compra }}
                    </td>
                    <td>
                      {{ object.preco_compra }}
                    </td>
                    <td>
                      {{ object.preco_diaria }}
                    </td>
                    <td>
                      {{ object.estoque_minimo }}
                    </td>
                    <td>
                      {{ object.estoque_atual }}
                    </td>
                    <td>
                      {{ object.active|yesno:"Ativo,Bloqueado" }}
                    </td>
                    <td>
                      <div class="dropdown">
                        <a href="#" class="dropdown-toggle card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                          <i class="mdi mdi-dots-horizontal font-size-18 text-muted"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                          <li><a href="#" class="dropdown-item"><i class="mdi mdi-pencil font-size-16 text-success me-1"></i>
                            Edit</a></li>
                          <li><a href="#" class="dropdown-item"><i class="mdi mdi-trash-can font-size-16 text-danger me-1"></i>
                            Delete</a></li>
                        </ul>
                      </div>
                    </td>
                  </tr>
                {% endfor %}
                <!-- end /tr -->
              </tbody><!-- end tbody -->
            </table><!-- end table -->
          </div>
        </div>
      </div>
    </div>
  </div>
  </main>
{% endblock content %}
